# ğŸ§— æ”€å²©è§†é¢‘åˆ†æç³»ç»Ÿ - æŠ€æœ¯è®¾è®¡æ–‡æ¡£

## ä¸€ã€ç³»ç»Ÿæ¦‚è¿°

### 1.1 é¡¹ç›®ç›®æ ‡
æ„å»ºä¸€ä¸ªæœ¬åœ°éƒ¨ç½²çš„æ”€å²©è§†é¢‘åˆ†æç³»ç»Ÿï¼Œé€šè¿‡AIå§¿æ€ä¼°è®¡æŠ€æœ¯å®æ—¶åˆ†ææ”€å²©è€…çš„åŠ¨ä½œï¼Œè®¡ç®—ç”Ÿç‰©åŠ›å­¦å‚æ•°ï¼Œå¹¶æä¾›æ™ºèƒ½Betaå»ºè®®ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½
- ğŸ“¹ è§†é¢‘ä¸Šä¼ ä¸ç®¡ç†
- ğŸ¦´ äººä½“å…³é”®ç‚¹æ£€æµ‹ï¼ˆ33ä¸ªå…³é”®ç‚¹ï¼‰
- âš–ï¸ é‡å¿ƒå®æ—¶è®¡ç®—ä¸è½¨è¿¹è¿½è¸ª
- ğŸš€ åŠ é€Ÿåº¦/é€Ÿåº¦åˆ†æ
- ğŸ“ å…³èŠ‚è§’åº¦æµ‹é‡
- ğŸ’¡ AI Betaå»ºè®®ç”Ÿæˆ
- ğŸ“Š æ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿

---

## äºŒã€ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯ (React/Vue)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚è§†é¢‘ä¸Šä¼   â”‚  â”‚å®æ—¶é¢„è§ˆ  â”‚  â”‚æ•°æ®é¢æ¿  â”‚  â”‚ Betaå»ºè®®å±•ç¤º   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚               â”‚
        â–¼            â–¼            â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åç«¯ API (FastAPI)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ /upload     â”‚  â”‚ /analyze     â”‚  â”‚ /beta-suggestion   â”‚  â”‚
â”‚  â”‚ /videos     â”‚  â”‚ /stream      â”‚  â”‚ /export            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                    â”‚
          â–¼                â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åˆ†æå¼•æ“å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å§¿æ€ä¼°è®¡æ¨¡å‹   â”‚  â”‚  ç‰©ç†è®¡ç®—å¼•æ“   â”‚  â”‚  LLMæ¨ç†å¼•æ“  â”‚  â”‚
â”‚  â”‚  (MediaPipe/   â”‚  â”‚  (NumPy/SciPy) â”‚  â”‚  (Ollama/     â”‚  â”‚
â”‚  â”‚   YOLO-Pose)   â”‚  â”‚                â”‚  â”‚   Qwen)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                    â”‚
          â–¼                â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è§†é¢‘æ–‡ä»¶   â”‚  â”‚ SQLite/    â”‚  â”‚ Redis (ç¼“å­˜/å®æ—¶æ•°æ®)  â”‚ â”‚
â”‚  â”‚ (æœ¬åœ°å­˜å‚¨) â”‚  â”‚ PostgreSQL â”‚  â”‚                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€æŠ€æœ¯é€‰å‹

### 3.1 å§¿æ€ä¼°è®¡æ¨¡å‹ï¼ˆæ ¸å¿ƒï¼‰

| æ¨¡å‹ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåœºæ™¯ |
|------|------|------|----------|
| **MediaPipe Pose** | è½»é‡å¿«é€Ÿï¼Œ33ä¸ªå…³é”®ç‚¹ï¼Œ3Dæ”¯æŒ | å¤šäººæ£€æµ‹å¼± | â­ é¦–é€‰ï¼Œå•äººæ”€å²© |
| **YOLOv8-Pose** | å¤šäººæ£€æµ‹å¼ºï¼Œé€Ÿåº¦å¿« | å…³é”®ç‚¹è¾ƒå°‘(17ä¸ª) | å¤šäººåœºæ™¯ |
| **MMPose** | ç²¾åº¦æœ€é«˜ï¼Œå¯å®šåˆ¶ | éƒ¨ç½²å¤æ‚ï¼Œé€Ÿåº¦è¾ƒæ…¢ | é«˜ç²¾åº¦éœ€æ±‚ |
| **RTMPose** | å®æ—¶æ€§æœ€å¥½ | éœ€è¦é¢å¤–é…ç½® | å®æ—¶æµåˆ†æ |

**æ¨èæ–¹æ¡ˆ**: MediaPipe Pose + YOLOv8-Pose åŒæ¨¡å‹èåˆ

### 3.2 æŠ€æœ¯æ ˆ

```yaml
åç«¯:
  - Python 3.10+
  - FastAPI (é«˜æ€§èƒ½å¼‚æ­¥API)
  - OpenCV (è§†é¢‘å¤„ç†)
  - MediaPipe / Ultralytics (å§¿æ€ä¼°è®¡)
  - NumPy / SciPy (ç‰©ç†è®¡ç®—)
  - Ollama + Qwen2.5 (æœ¬åœ°LLM)

å‰ç«¯:
  - React 18 + TypeScript
  - Tailwind CSS
  - Video.js (è§†é¢‘æ’­æ”¾)
  - Recharts (æ•°æ®å¯è§†åŒ–)
  - Socket.IO (å®æ—¶é€šä¿¡)

å­˜å‚¨:
  - SQLite (å¼€å‘) / PostgreSQL (ç”Ÿäº§)
  - Redis (å®æ—¶æ•°æ®ç¼“å­˜)
  - MinIO (å¯é€‰ï¼Œå¯¹è±¡å­˜å‚¨)

éƒ¨ç½²:
  - Docker + Docker Compose
  - Nginx (åå‘ä»£ç†)
```

---

## å››ã€æ ¸å¿ƒç®—æ³•è®¾è®¡

### 4.1 å…³é”®ç‚¹å®šä¹‰ (MediaPipe 33ç‚¹)

```
å¤´éƒ¨: 0-10 (é¼»å­ã€çœ¼ç›ã€è€³æœµç­‰)
ä¸Šè‚¢: 11-22 (è‚©ã€è‚˜ã€è…•ã€æ‰‹æŒ‡)
èº¯å¹²: 23-24 (é«‹éƒ¨)
ä¸‹è‚¢: 25-32 (è†ã€è¸ã€è„šè¶¾)
```

### 4.2 é‡å¿ƒè®¡ç®—ç®—æ³•

```python
# åŸºäºäººä½“å„éƒ¨ä½è´¨é‡åˆ†å¸ƒçš„åŠ æƒé‡å¿ƒè®¡ç®—
BODY_MASS_RATIOS = {
    'head': 0.08,
    'trunk': 0.50,
    'upper_arm': 0.028 * 2,
    'forearm': 0.016 * 2,
    'hand': 0.006 * 2,
    'thigh': 0.10 * 2,
    'shank': 0.0465 * 2,
    'foot': 0.0145 * 2
}

def calculate_center_of_mass(keypoints):
    """
    è®¡ç®—äººä½“é‡å¿ƒ
    keypoints: shape (33, 3) - x, y, visibility
    """
    weighted_x, weighted_y = 0, 0
    total_weight = 0
    
    segments = {
        'head': keypoints[0],  # é¼»å­è¿‘ä¼¼å¤´éƒ¨
        'trunk': (keypoints[11] + keypoints[12] + 
                  keypoints[23] + keypoints[24]) / 4,
        'left_upper_arm': (keypoints[11] + keypoints[13]) / 2,
        'right_upper_arm': (keypoints[12] + keypoints[14]) / 2,
        # ... å…¶ä»–éƒ¨ä½
    }
    
    for part, coord in segments.items():
        weight = BODY_MASS_RATIOS.get(part, 0.01)
        weighted_x += coord[0] * weight
        weighted_y += coord[1] * weight
        total_weight += weight
    
    return weighted_x / total_weight, weighted_y / total_weight
```

### 4.3 å…³èŠ‚è§’åº¦è®¡ç®—

```python
import numpy as np

def calculate_angle(p1, p2, p3):
    """
    è®¡ç®—ä¸‰ç‚¹å½¢æˆçš„è§’åº¦
    p2 ä¸ºé¡¶ç‚¹
    """
    v1 = np.array(p1) - np.array(p2)
    v2 = np.array(p3) - np.array(p2)
    
    cos_angle = np.dot(v1, v2) / (np.linalg.norm(v1) * np.linalg.norm(v2))
    angle = np.arccos(np.clip(cos_angle, -1, 1))
    
    return np.degrees(angle)

# æ”€å²©å…³é”®è§’åº¦
CLIMBING_ANGLES = {
    'left_elbow': (11, 13, 15),   # è‚©-è‚˜-è…•
    'right_elbow': (12, 14, 16),
    'left_shoulder': (13, 11, 23), # è‚˜-è‚©-é«‹
    'right_shoulder': (14, 12, 24),
    'left_hip': (11, 23, 25),      # è‚©-é«‹-è†
    'right_hip': (12, 24, 26),
    'left_knee': (23, 25, 27),     # é«‹-è†-è¸
    'right_knee': (24, 26, 28),
}
```

### 4.4 åŠ é€Ÿåº¦ä¸é€Ÿåº¦è®¡ç®—

```python
def calculate_kinematics(positions, fps=30):
    """
    åŸºäºä½ç½®åºåˆ—è®¡ç®—é€Ÿåº¦å’ŒåŠ é€Ÿåº¦
    positions: shape (N, 2) - æ—¶é—´åºåˆ—çš„é‡å¿ƒä½ç½®
    """
    dt = 1.0 / fps
    
    # é€Ÿåº¦ = Î”position / Î”time
    velocity = np.diff(positions, axis=0) / dt
    
    # åŠ é€Ÿåº¦ = Î”velocity / Î”time  
    acceleration = np.diff(velocity, axis=0) / dt
    
    # å¹³æ»‘å¤„ç† (Savitzky-Golayæ»¤æ³¢)
    from scipy.signal import savgol_filter
    velocity_smooth = savgol_filter(velocity, window_length=5, polyorder=2, axis=0)
    
    return velocity_smooth, acceleration
```

### 4.5 æ”€å²©ç‰¹å¾æŒ‡æ ‡

```python
class ClimbingMetrics:
    def __init__(self):
        self.com_history = []  # é‡å¿ƒè½¨è¿¹
        self.stability_scores = []
        
    def calculate_stability(self, com, support_points):
        """
        è®¡ç®—ç¨³å®šæ€§ï¼šé‡å¿ƒæ˜¯å¦åœ¨æ”¯æ’‘é¢å†…
        support_points: æ‰‹è„šæ¥è§¦ç‚¹
        """
        from scipy.spatial import ConvexHull
        hull = ConvexHull(support_points)
        # åˆ¤æ–­é‡å¿ƒæ˜¯å¦åœ¨å‡¸åŒ…å†…
        return self._point_in_hull(com, hull)
    
    def calculate_efficiency(self, trajectory):
        """
        è®¡ç®—åŠ¨ä½œæ•ˆç‡ï¼šå®é™…è·¯å¾„ / ç›´çº¿è·ç¦»
        """
        actual_distance = np.sum(np.linalg.norm(np.diff(trajectory, axis=0), axis=1))
        direct_distance = np.linalg.norm(trajectory[-1] - trajectory[0])
        return direct_distance / actual_distance if actual_distance > 0 else 0
    
    def detect_dyno(self, acceleration, threshold=15):
        """
        æ£€æµ‹åŠ¨æ€åŠ¨ä½œï¼ˆDynoï¼‰
        """
        peak_acc = np.max(np.abs(acceleration))
        return peak_acc > threshold
```

---

## äº”ã€API è®¾è®¡

### 5.1 æ ¸å¿ƒæ¥å£

```yaml
POST /api/v1/videos/upload
  - ä¸Šä¼ è§†é¢‘æ–‡ä»¶
  - è¿”å›: video_id, é¢„è§ˆURL

GET /api/v1/videos/{video_id}/analyze
  - å¯åŠ¨åˆ†æä»»åŠ¡
  - è¿”å›: task_id, WebSocket URL

WebSocket /ws/analysis/{task_id}
  - å®æ—¶æ¨é€åˆ†æè¿›åº¦å’Œç»“æœ
  - æ¶ˆæ¯ç±»å‹: progress, keypoints, metrics, complete

GET /api/v1/videos/{video_id}/results
  - è·å–å®Œæ•´åˆ†æç»“æœ
  - è¿”å›: å…³é”®ç‚¹æ•°æ®ã€æŒ‡æ ‡ç»Ÿè®¡ã€å¯è§†åŒ–æ•°æ®

POST /api/v1/beta/suggest
  - è¯·æ±‚ä½“: { video_id, metrics_summary }
  - è¿”å›: AIç”Ÿæˆçš„Betaå»ºè®®

GET /api/v1/videos/{video_id}/export
  - å¯¼å‡ºåˆ†ææŠ¥å‘Š (PDF/JSON)
```

### 5.2 æ•°æ®æ¨¡å‹

```python
from pydantic import BaseModel
from typing import List, Optional

class Keypoint(BaseModel):
    x: float
    y: float
    z: Optional[float]
    visibility: float
    name: str

class FrameAnalysis(BaseModel):
    frame_number: int
    timestamp: float
    keypoints: List[Keypoint]
    center_of_mass: tuple[float, float]
    joint_angles: dict[str, float]
    stability_score: float

class VideoAnalysisResult(BaseModel):
    video_id: str
    total_frames: int
    fps: float
    duration: float
    frames: List[FrameAnalysis]
    summary: dict  # ç»Ÿè®¡æ‘˜è¦
    beta_suggestion: Optional[str]
```

---

## å…­ã€Betaå»ºè®®ç”Ÿæˆ

### 6.1 LLM Prompt è®¾è®¡

```python
BETA_PROMPT_TEMPLATE = """
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„æ”€å²©æ•™ç»ƒï¼Œè¯·æ ¹æ®ä»¥ä¸‹è§†é¢‘åˆ†ææ•°æ®ï¼Œä¸ºæ”€å²©è€…æä¾›æ”¹è¿›å»ºè®®ã€‚

## åˆ†ææ•°æ®æ‘˜è¦
- æ”€çˆ¬æ—¶é•¿: {duration}ç§’
- å¹³å‡é‡å¿ƒåç§»: å·¦ä¾§ {com_left}Â°, å³ä¾§ {com_right}Â°ï¼ˆç†æƒ³å€¼160Â°ï¼‰
- åŠ¨æ€çˆ†å‘åŠ›è¯„åˆ†: {power_score}/100
- å…³èŠ‚è§’åº¦ç»Ÿè®¡:
  - å·¦è‚©: {left_shoulder}Â° | å³è‚©: {right_shoulder}Â°
  - å·¦è‚˜: {left_elbow}Â° | å³è‚˜: {right_elbow}Â°
  - å·¦é«‹: {left_hip}Â° | å³é«‹: {right_hip}Â°
  - å·¦è†: {left_knee}Â° | å³è†: {right_knee}Â°
- åŠ¨ä½œæ•ˆç‡: {efficiency}%
- æ£€æµ‹åˆ°çš„é—®é¢˜: {detected_issues}

## è¯·æä¾›ä»¥ä¸‹å»ºè®®:
1. **é‡å¿ƒæ§åˆ¶**: é’ˆå¯¹é‡å¿ƒåç§»çš„æ”¹è¿›æ–¹æ³•
2. **å‘åŠ›æŠ€å·§**: å¦‚ä½•æ›´å¥½åœ°åˆ©ç”¨èº«ä½“å„éƒ¨ä½
3. **åŠ¨ä½œä¼˜åŒ–**: å…·ä½“çš„åŠ¨ä½œè°ƒæ•´å»ºè®®
4. **è®­ç»ƒå»ºè®®**: é’ˆå¯¹æ€§çš„è®­ç»ƒæ–¹æ³•

è¯·ç”¨ç®€æ´ä¸“ä¸šçš„è¯­è¨€å›ç­”ï¼Œæ¯ä¸ªéƒ¨åˆ†2-3å¥è¯ã€‚
"""
```

### 6.2 æœ¬åœ°LLMéƒ¨ç½² (Ollama)

```bash
# å®‰è£…Ollama
curl -fsSL https://ollama.com/install.sh | sh

# ä¸‹è½½æ¨¡å‹
ollama pull qwen2.5:7b  # æˆ– llama3.1:8b

# å¯åŠ¨æœåŠ¡
ollama serve
```

---

## ä¸ƒã€é¡¹ç›®ç»“æ„

```
climbing-analyzer/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main.py              # FastAPIå…¥å£
â”‚   â”‚   â”œâ”€â”€ config.py            # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ videos.py    # è§†é¢‘ç›¸å…³API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ analysis.py  # åˆ†æç›¸å…³API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ beta.py      # Betaå»ºè®®API
â”‚   â”‚   â”‚   â””â”€â”€ websocket.py     # WebSocketå¤„ç†
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ pose_estimator.py    # å§¿æ€ä¼°è®¡
â”‚   â”‚   â”‚   â”œâ”€â”€ physics_engine.py    # ç‰©ç†è®¡ç®—
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics.py           # æŒ‡æ ‡è®¡ç®—
â”‚   â”‚   â”‚   â””â”€â”€ llm_client.py        # LLMè°ƒç”¨
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ database.py      # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ schemas.py       # Pydanticæ¨¡å‹
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ video_utils.py   # è§†é¢‘å¤„ç†å·¥å…·
â”‚   â”‚       â””â”€â”€ visualization.py # å¯è§†åŒ–å·¥å…·
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ tests/
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ VideoUploader.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ VideoPlayer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MetricsPanel.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SkeletonOverlay.tsx
â”‚   â”‚   â”‚   â””â”€â”€ BetaSuggestion.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â””â”€â”€ useWebSocket.ts
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Analysis.tsx
â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ nginx.conf
â””â”€â”€ README.md
```

---

## å…«ã€å®æ–½æ­¥éª¤

### Phase 1: åŸºç¡€æ­å»º (1-2å‘¨)
- [ ] æ­å»ºFastAPIåç«¯æ¡†æ¶
- [ ] å®ç°è§†é¢‘ä¸Šä¼ å’Œå­˜å‚¨
- [ ] é›†æˆMediaPipeå§¿æ€ä¼°è®¡
- [ ] åŸºç¡€å…³é”®ç‚¹æ£€æµ‹æµ‹è¯•

### Phase 2: æ ¸å¿ƒç®—æ³• (2-3å‘¨)
- [ ] å®ç°é‡å¿ƒè®¡ç®—ç®—æ³•
- [ ] å®ç°å…³èŠ‚è§’åº¦è®¡ç®—
- [ ] å®ç°åŠ é€Ÿåº¦/é€Ÿåº¦è®¡ç®—
- [ ] å®ç°ç¨³å®šæ€§è¯„ä¼°
- [ ] ç®—æ³•è°ƒä¼˜å’Œæµ‹è¯•

### Phase 3: å‰ç«¯å¼€å‘ (2å‘¨)
- [ ] è§†é¢‘ä¸Šä¼ ç»„ä»¶
- [ ] å®æ—¶éª¨æ¶å åŠ æ˜¾ç¤º
- [ ] æ•°æ®å¯è§†åŒ–é¢æ¿
- [ ] WebSocketå®æ—¶é€šä¿¡

### Phase 4: AIå»ºè®® (1å‘¨)
- [ ] éƒ¨ç½²æœ¬åœ°LLM (Ollama)
- [ ] è®¾è®¡Promptæ¨¡æ¿
- [ ] é›†æˆBetaå»ºè®®ç”Ÿæˆ

### Phase 5: ä¼˜åŒ–éƒ¨ç½² (1å‘¨)
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] Dockerå®¹å™¨åŒ–
- [ ] éƒ¨ç½²æµ‹è¯•
- [ ] æ–‡æ¡£ç¼–å†™

---

## ä¹ã€ç¡¬ä»¶è¦æ±‚

```yaml
æœ€ä½é…ç½®:
  CPU: 4æ ¸
  RAM: 8GB
  GPU: GTX 1060 6GB
  å­˜å‚¨: 50GB SSD

æ¨èé…ç½®:
  CPU: 8æ ¸
  RAM: 16GB
  GPU: RTX 3060 12GB æˆ–æ›´é«˜
  å­˜å‚¨: 100GB NVMe SSD
```

---

## åã€æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| è§†é¢‘å¤„ç†å¸§ç‡ | â‰¥ 25 FPS |
| å…³é”®ç‚¹æ£€æµ‹å»¶è¿Ÿ | < 40ms |
| å®Œæ•´åˆ†ææ—¶é—´ | < 2x è§†é¢‘æ—¶é•¿ |
| Betaå»ºè®®ç”Ÿæˆ | < 10ç§’ |
| å‰ç«¯åŠ è½½æ—¶é—´ | < 3ç§’ |
